@model Sciendo.Music.DataProviders.Models.Indexing.IndexModel
@{
    ViewBag.Title = "Index & Acquire";
    ViewBag.IndexingSelected = "selected";
    ViewBag.Current = "indexing";
}
@section styles
{
    @Styles.Render("~/Content/autocomplete")
    @Styles.Render("~/Content/indexing")
}
<div>
    <label for="indexFromPath">From music path:</label>
    <input 
        data-bind="value:indexFromPath" 
        type="search" 
        name="indexFromPath"
        class="longfield"
        data-autocomplete="@Url.Action("GetIndexingAutocomplete", "Home")" />
    <select id="actions" data-bind="options:actions, optionsCaption: 'Choose an action ...', value:selectedAction, event:{change:actionSelected}">
    </select>
</div>
<div data-bind="if:indexedOccured">
    <label id="resultsIndexed" data-bind="text:indexingResultMessage"></label>
    <div class="validation-summary-errors" data-bind="if:indexedWithError"></div>
    <label id="errorIndexed" data-bind="text:indexingError"></label>
</div>

@section scripts
{
    @Scripts.Render("~/bundles/signalR")
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>

    @Scripts.Render("~/bundles/jqueryui")
    @Scripts.Render("~/bundles/index")
    <script>

        // Initiate the Knockout bindings
        var vm = new indexViewModel("@Server.HtmlEncode(@Model.SourceFolder)");
        ko.applyBindings(vm, document.getElementById("body"));
    </script>
}